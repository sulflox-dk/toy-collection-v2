@import 'variables';
@import 'bootstrap/bootstrap';
/* Increase maximum width for containers */
.container {
	max-width: 1400px !important;
}

// --- Layout & Sidebar ---

// 1. The Centered Container
.app-layout {
	display: flex;
	width: 100%;
	max-width: 1530px; // 250px (Sidebar) + 1280px (Content)
	margin: 0 auto; // Centers the whole block on huge screens
	min-height: 100vh;
	background-color: #fff; // Optional: Keeps content background white even if body is gray
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.05); // Optional: Nice "Boxed" look
}

// 2. The Sidebar
.sidebar {
	width: 250px;
	height: 100vh;

	// KEY CHANGE: Sticky keeps it in view, but allows it to flow with flexbox
	position: sticky;
	top: 0;

	z-index: 1040;
	overflow-y: auto;
	background-color: #212529;
	flex-shrink: 0; // Prevent sidebar from shrinking
	transition: transform 0.3s ease-in-out;

	.nav-link {
		color: rgba(255, 255, 255, 0.75);
		padding: 0.75rem 1rem;
		border-radius: 0.25rem;
		display: flex;
		align-items: center;

		&:hover,
		&.active {
			color: #fff;
			background-color: rgba(255, 255, 255, 0.1);
		}

		i {
			width: 24px;
			text-align: center;
			margin-right: 8px;
		}
	}
}

// 3. The Content Area
.main-content-wrapper {
	// NO margins needed anymore! Flexbox places it next to sidebar.
	flex-grow: 1;
	min-width: 0; // Standard flexbox fix for nested overflow
	display: flex;
	flex-direction: column;

	// Remove the explicit max-width here, because the parent .app-layout controls it now.
}

// --- Submenus & Toggles (Same as before) ---
.sidebar-submenu {
	background: rgba(0, 0, 0, 0.2);
	padding-left: 1rem;
	list-style: none;
	padding-bottom: 0.5rem;
	margin: 0;

	.nav-link {
		padding: 0.5rem 1rem;
		font-size: 0.9em;
	}
}

.btn-toggle-nav {
	&::after {
		font-family: 'Font Awesome 6 Free';
		content: '\f078';
		font-weight: 900;
		float: right;
		transition: transform 0.2s;
		font-size: 0.8em;
		margin-top: 4px;
		margin-left: auto;
	}
	&.collapsed::after {
		transform: rotate(-90deg);
	}
}

// --- Responsive: Mobile/Tablet (< 1200px) ---
@media (max-width: 1199.98px) {
	.sidebar {
		// Switch back to fixed for mobile so it doesn't take up space in the layout
		position: fixed;
		left: 0;
		transform: translateX(-100%);

		&.show {
			transform: translateX(0);
		}
	}

	// Reset background for mobile if you want full width feel
	.app-layout {
		max-width: 100%;
		box-shadow: none;
	}
}
